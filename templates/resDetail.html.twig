{% if errorMSG %}
    {{ errorMSG }}
{% else %}

	<h3 class="single-res-heading">
		Overview

    	<div class="res-act-button res-act-button-expertview basic">
    		<i class="material-icons">&#xE896;</i>
    		<span>Switch to Expert-View</span>                
    	</div>            	
		
	</h3> 
    
    <div class="single-res-overview single-res-overview-basic">
	    {% if result['image'] %}<div class="res-inside-wrap col-lg-6 ">{% endif%}  
	
                {% if result['specialLabel'] %}
                    <div class="res-property">
                        <i class="material-icons">&#xE873;</i>
                            <span class="res-title">{{ result['specialLabel'] }}</span>
                    </div>
		{%  elseif result['acdh_hasTitle'] %}
                    <div class="res-property">
                        <i class="material-icons">&#xE873;</i>
                            {% for value in result['acdh_hasTitle'].value %}
                            <span class="res-title">{{ value }}</span>	
                            {% endfor %}
                    </div>
		{% endif%} 
		
		{% if extras['rdfType'] %}
            <div class="res-property">
            	<i class="material-icons">&#xE54E;</i>
            	<span class="res-rdftype"><a href="{{ extras['rdfTypeUri'] }}">{{ extras['rdfType'] }}</a></span>
            </div>
        {% endif%}		
		
		{% if result['acdh_hasAuthor'] %}
	        <div class="res-property">
	        	<i class="material-icons">&#xE7FB;</i> 
                        <ul>
	        	{% for name in result['acdh_hasAuthor'].value %}                                        
	        		<span class="res-contributor">
                                    <a href="{{ url('<front>') }}oeaw_detail/{{ cycle(result['acdh_hasAuthor'].inside_url, loop.index0) }}">
                                        <li>
                                            {% if result['acdh_hasAuthor']['title'][loop.index - 1] %}
                                                {{ result['acdh_hasAuthor']['title'][loop.index - 1] }}
                                            {% else %}
                                                {{ result['acdh_hasAuthor']['value'][loop.index - 1] }}
                                            {% endif %} 
                                        </li>
                                    </a></span>  
	        	{% endfor %}	
                        </ul>
			</div>
		{% endif%}
		
		{% if result['acdh_hasContributor'] %}
	        <div class="res-property">
	        	<i class="material-icons">&#xE7FE;</i>
	        	{% for name in result['acdh_hasContributor'].contributorName %}
                            {% if cycle(result['acdh_hasContributor'].inside_url, loop.index0)%}
	        		<span class="res-contributor"><a href="{{ url('<front>') }}oeaw_detail/{{ cycle(result['acdh_hasContributor'].inside_url, loop.index0) }}">{{ name }}</a></span>  
                            {% else %}
                                <!-- if the contributor has no acdh id but other 3rd party id, then we will not use the oeaw_detail page -->
                                <span class="res-contributor"><a href="{{ cycle(result['acdh_hasContributor'].contributorUri, loop.index0) }}">{{ name }}</a></span>  
                            {% endif%}
	        	{% endfor %}	
			</div>
		{% endif%}					
	
		{% if extras['fedora_created'] %}
	        <div class="res-property">
	        	<i class="material-icons">&#xE8DF;</i>	
	        	<span class="res-creationdate">{{ extras['fedora_created'].value.creationDate }}</span>
	        </div>
	    {% endif%}	           	
	
		{% if result['acdh_isPartOf'] %}
	        <div class="res-property">
	        	<i class="material-icons">&#xE335;</i>	
	        	<span class="res-ispartof">Part of:
		        	{% for title in result['acdh_isPartOf'].title %}
						<a href="{{ url('<front>') }}oeaw_detail/{{ cycle(result['acdh_isPartOf'].inside_url, loop.index0) }}">{{ cycle(result['acdh_isPartOf'].title, loop.index0)  }} </a>
		        	{% endfor %}
	        	</span>
	        </div>
	    {% endif%}	
	
		{% if result['image'] %}</div>{% endif%}
		
		{% if result['image'] %}	
			<div class="res-inside-wrap col-lg-6 ">	
			    <div class="single-res-thumb">
			        <a href="{{ result['image'] }}"><img src="{{ result['image'] }}"></a>
			    </div>
			    <span class="res-thumb-info">Thumbnail of {{ result['dc_title'].value.0 }}</span>
			</div>
		{% endif%}
                
	</div>
	
	
	<div class="single-res-overview single-res-overview-expert">
		
	    <table class="display table table-striped" cellspacing="0" width="100%">
	       <thead>
	            <tr>
	                <th>Property</th>
	                <th>Value(s)</th>
	            </tr>
	        </thead>
	        <tbody>
	                {% for item in result %}
	                   {%  if item.property != "" %}
	                    <tr data-resourceid="{{ item.delete }}">
	                        <td>{{ item.property }}</td>
                                <td>
	                            {% if item.inside_url is iterable %}
	                                {% set counter = 0 %}
	                                {% for key, inside_url in item.inside_url %}
	                                    {% set counter = counter + 1 %}
	                                    <a href="{{ inside_url }}">
	                                        {% if item.property == "dcterm:identifier" %}
	                                            {{  item.value[key] }}
                                                    </a> - 
                                                    {{  item.title[key] }}
	                                        {% else %}
	                                            {% if item.title[key] %}
	                                                {{ item.title[key] }}</a>
	                                                <br>
	                                            {% else %}                                                        
	                                                {{ item.value[key] }}
                                                        </a>
	                                                <br>
	                                            {% endif %}
	                                        {% endif %}    
	                                    
	                                {% endfor %}
	                                
	                            {% else %}
	                                {% if item.value is iterable %}	                                
	                                    {% for value in item.value %}
	                                        {% if 'http' in value %}
	                                            <a href="{{ value }}" >{{ value }}</a>
	                                        {% else %}
	                                            {{ value }}
	                                        {% endif %}
	                                        <br>
	                                   {% endfor %}
	
	                                {% else %}                                    
	                                    {% if 'http' in item.value %}
	                                        <a href="{{ item.value }}">{{ item.value }}</a>
	                                    {% else %}
	                                        {{ item.value }}
	                                    {% endif %}
	
	                                {% endif %}  
	                            {% endif %}
	                                
	                                                      
	                        </td>
	                    </tr>
	                    {% endif %} 
	            {% endfor %}                                          
	        </tbody>        
	    </table>
            {% if extras.inverseData %}
                <h3>Inverse Data</h3>
                <table class="display table table-striped" cellspacing="0" width="100%">
                   <thead>
                        <tr>                        
                            <th>Property</th>
                            <th>Value(s)</th>
                        </tr>
                    </thead>
                    <tbody>                    
                        {% for item in extras.inverseData %}
                            <tr>                            
                                <td>
                                    {{ item.shortcut }}
                                </td>
                                <td>
                                    <a href="{{ item.insideUri }}"> <b>{{ item.title }} </b></a>
                                </td>
                            </tr>
                        {% endfor %}                                          
                    </tbody>        
                </table>   
            {% endif %}
                    
            {% if userid == 1  %}
                <!--  The ACL rights  -->    
                <h3 class="single-res-heading">Access Rights</h3>
                <span class="res-title">Actual users and rights</span>
                <table class="display table table-striped" cellspacing="0" width="100%">
                    <thead>
                        <tr>
                            <th>User</th>           
                            <th>Rights</th>
                            <th>Revoke</th>                    
                        </tr>
                    </thead>
                    <tbody>            
                    {% for acl in result['ACL'] %}            
                        <tr>
                            <td>
                                {{ acl.username }}
                            </td>
                            <td>
                                {{ acl.mode }}
                            </td>
                            <td>
                                {% if userid == 1  %}
                                    {% if result['ACL']|length > 1  %}
                                        <div class="res-act-button">
                                            <a href="/#" id="delete-rule" data-resourceid="{{ editResData.editUrl }}" data-user="{{ acl.user }}" class="use-ajax" data-dialog-type="modal">
                                                <i class="material-icons">&#xE872;</i><span>Revoke Rights</span>
                                            </a>
                                        </div>
                                    {% else %}
                                        <span>-</span>
                                    {% endif %}
                                {% else %}
                                    <span>You cant Revoke Rights</span>
                                {% endif %}
                            </td>
                        </tr>            
                    {% endfor %}        
                    </tbody>        
                </table>
                <br>
                <span class="res-title">Add rights</span>
                <table class="display table table-striped" cellspacing="0" width="100%">
                    <thead>
                        <tr>
                            <th>User</th>
                            <th>Rights</th>
                            <th>Action</th>
                        </tr>
                    </thead>
                    <tbody>  
                    <tr>
                        <td>
                            <select>
                                <option value="">----</option>
                                <option value="user1">User1</option>
                                <option value="user2">User2</option>
                                <option value="user3">User3</option>
                            </select>
                        </td>
                        <td>
                            <select>
                                <option value="">----</option>
                                <option value="read">Read</option>
                                <option value="write">Write</option>                
                            </select>
                        </td>
                        <td>
                            <button>Add</button>
                        </td>
                    </tr>        
                    </tbody>        
                </table>
                <br>
            {% endif %}
	</div>	

    {% if extras['dissServ'] %}
        <div class="res-property">
        	<i class="material-icons">&#xE89F;</i>	
                {% for key, ds in extras['dissServ'] %}
                    <div class="res-act-button">
                        <a href="{{ ds }}?format={{ key }}" ><span>{{ key|upper }} Access</span></a>
                    </div>               
                {% endfor %}  
        </div>                       
    {% endif %}    	

    <div class="res-property">
    	<i class="material-icons">&#xE0B2;</i>    	
    	<div class="res-act-button">
        	<a href="{{ extras['fedoraURI'] }}">
        		<span>View in Fedora</span>
        	</a>	
    	</div>           	
    </div>

    {% if userid != 0  %}
        {% if query %} 
            <div class="res-property">
                <i class="material-icons">&#xE53B;</i>       	
                <div class="res-act-button">
                    <a href="/oeaw_query/{{ query }}">
                        <span>View Query Result</span>
                    </a>	
                </div>          	
            </div>
        {% endif %}	
    {% endif %}	


    {% if result['acdh_hasDescription'] %}
    	<h3 class="single-res-heading">Summary</h3>
    
        <div class="res-property">
        	<i class="material-icons">&#xE88F;</i>
        	{% for value in result['acdh_hasDescription'].value %}	
	        	<span class="res-description">{{ value }}</span>
	        {% endfor %}	
        </div>
                            
    {% endif%}

    {% if result['acdh_hasAuthor'] %}
    	<h3 class="single-res-heading">About the Author(s)</h3>
		
		{% for name in result['acdh_hasAuthor'].authorName %}
	        <div class="res-property">
	        	<i class="material-icons">&#xE7FD;</i>
		        <span class="res-contributor"><a href="{{ url('<front>') }}oeaw_detail/{{ cycle(result['acdh_hasAuthor'].inside_url, loop.index0) }}">{{ name|trim(',') }}</a></span>  
	        </div>
         {% endfor %}                   
    {% endif%}

    {% if result['acdh_hasContributor'] %}
    	<h3 class="single-res-heading">About the Contributor(s)</h3>
        {% for name in result['acdh_hasContributor'].contributorName %}
            <div class="res-property">
                <i class="material-icons">&#xE7FE;</i>
                {% if cycle(result['acdh_hasContributor'].inside_url, loop.index0)%}                                
                    <span class="res-contributor"><a href="{{ url('<front>') }}oeaw_detail/{{ cycle(result['acdh_hasContributor'].inside_url, loop.index0) }}">{{ name }}</a></span>  
                {% else %}
                    <!-- if the contributor has no acdh id but other 3rd party id, then we will not use the oeaw_detail page -->
                    <span class="res-contributor"><a href="{{ cycle(result['acdh_hasContributor'].contributorUri, loop.index0) }}">{{ name }}</a></span>  
                {% endif%}
            </div>
        {% endfor %}			
    {% endif%}
 
    

    
    
    
   
    <h3 class="single-res-heading">Cite Resource</h3>

    <div class="cite-selector">
            <div class="cite-style selected">BibTeX</div>
            <div class="cite-style">AMA</div>
            <div class="cite-style">APA</div>
            <div class="cite-style">Frontiers</div>
            <div class="cite-style">Harvard</div>
            <div class="cite-style">IEEE</div>
            <div class="cite-style">LNCS</div>
            <div class="cite-style">MLA</div>
            <div class="cite-style">RIS</div>
    </div>	

    <div class="bd-clipboard"><span class="btn-clipboard" title="" data-original-title="Copy to clipboard">Copy</span></div>
	
<figure class="highlight">
<pre>
<code class="language-bibtex" data-lang="scss">
@misc { 1,  
{% if result['dcterm_contributor'] %}
  author   = { {% for name in result['dcterm_contributor'].contributorName %}{{ name }}{% endfor %} }, 
{% endif%}
{% if result['dc_title'] %}
  title    = { {{ result['dc_title'].value.0 }} }, 
{% endif%}
{% if extras['fedora_created'] %}
  year     = { {{ extras['fedora_created'].value.creationYear }} }, 
{% endif%}
}
</code>
</pre>
</figure>

    {% if childResult %}
    <h3 class="single-res-heading">Child Resources</h3>

        {% for cItem in childResult %}
            <div class="child-res">

            <div class="res-property">
                <i class="material-icons">&#xE873;</i>
                <a href="{{ url('<front>') }}{{ cItem.detail }}">                                         
                        <span class="res-title">{{ cItem.title }}</span>
                </a>		
            </div>

            <div class="res-property">
                <i class="material-icons">&#xE54E;</i>
                <a href="{{ cItem.rdfTypeUri }}">
                        <span class="res-rdftype">{{ cItem.rdfType }}</span>
                </a>
            </div>

            {% if cItem.description %}
                <div class="res-property res-property-desc">
                    <i class="material-icons">&#xE88F;</i>	
                    <span class="res-description">{{ cItem.description }}</span>
                </div>
            {% endif%}

            <div class="res-actions">

                {% if cItem.description %}
                    <div class="res-act-button res-act-button-summary closed">
                            <i class="material-icons">&#xE145;</i>
                            <span>Show Summary</span>
                    </div>
                {% endif%}

                <div class="res-act-button">
                    <a href="{{ url('<front>') }}{{ cItem.detail }}">
                        <i class="material-icons">&#xE873;</i>
                        <span>Detailed View</span>
                    </a>	
                </div>          	
            </div>	

                </div>
        {% endfor %}

    {% endif%}

	                                        
{% endif%}